//.............................................................................

class C1
{
	int m_x;

	construct (int x)
	{
		printf ("C1.construct (%d)\n", x);
		m_x = x;
	}

	destruct ()
	{
		printf ("C1.destruct () { m_x = %d }\n", m_x);
	}
}

class C2
{
	int m_x;

	construct (int x)
	{
		printf ("C2.construct (%d)\n", x);
		m_x = x;
	}

	destruct ()
	{
		printf ("C2.destruct () { m_x = %d } \n", m_x);
	}
}

int 
main ()
{
	int x = 10;

	{
	x < 10 ? 
		(object*) stack new C1 construct (10) : 
		(object*) stack new C2 construct (20);
	}

/*	{
		x < 10 ? 
			stack new C1 (10) : 
			stack new C2 (20);
	} */

	printf ("main is done.\n");
	return 10; 
}

//.............................................................................

// system functions

int
printf (
	unsafe const thin char* pFormat,
	unsafe ...
	);

//.............................................................................
