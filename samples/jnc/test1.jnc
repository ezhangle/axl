//.............................................................................

class C1
{
	int m_x;

	construct (int x)
	{
		printf ("C1.construct (%d)\n", x);
		m_x = x;
	}

	destruct ()
	{
		printf ("C1.destruct (%d)\n", m_x);
	}
}

C1* g_p;

int  
main ()
{
	printf ("main ()\n");

	weak C1* p0;

	{
	p0 = new C1 (1);
	}

	g_p = p0;

	printf ("GC run 1\n");
	RunGc ();

	C1* p = p0;
	if (p)
		printf ("object C1 is alive :)\n");
	else		
		printf ("object C1 is dead x(\n");

	printf ("GC run 2\n");

	RunGc ();

	return 10;
}

destruct ()
{
	printf ("module.destruct ()\n");
}

//.............................................................................

// system functions

int
printf (
	unsafe thin const char* pFormat,
	unsafe ...
	);

void
RunGc ();

//.............................................................................
