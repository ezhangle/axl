//.............................................................................

class CRoot
{
	preconstruct ()
	{
		printf ("CRoot.preconstruct ()\n");
		Foo ();
	}

	this ()
	{
		printf ("CRoot.this ()\n");
		Foo ();
	}

	this (int x)
	{
		printf ("CRoot.this (%d)\n", x);
		Foo ();
	}

	~this ()
	{
		printf ("CRoot.~this ()\n");
		Foo ();
	}		

	virtual
	Foo ()
	{
		printf ("CRoot.Foo ()\n");
	}
};

//. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

class CBase: CRoot
{
	preconstruct ()
	{
		printf ("CBase.preconstruct ()\n");
		Foo ();
	}

	this ()
	{
		printf ("CBase.this ()\n");
		Foo ();
	}

	this (int x)
	{
		printf ("CBase.this (%d)\n", x);
		Foo ();
	}

	~this ()
	{
		printf ("CBase.~this ()\n");
		Foo ();
	}		

	override
	Foo ()
	{
		printf ("CBase.Foo ()\n");
	}
};

//. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

class CTest: CBase
{
	preconstruct ()
	{
		printf ("CTest.preconstruct ()\n");
		Foo ();
	}

	this ()
	{
		printf ("CTest.this ()\n");
		Foo ();
	}

	this (int x)
	{
		printf ("CTest.this (%d)\n", x);
		Foo ();
	}

	~this ()
	{
		printf ("CTest.~this ()\n");
		Foo ();
	}		

	override
	Foo ()
	{
		printf ("CTest.Foo ()\n");
	}
};

//. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .

int 
main ()
{
	printf ("hui govno i muravei\n");

	CTest t = stack new CTest;

	t.Foo ();

	return 0;
}

//.............................................................................

int
printf (
	unsafe const char* pFormat,
	unsafe ...
	);

//.............................................................................